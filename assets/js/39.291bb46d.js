(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{439:function(t,a,v){"use strict";v.r(a);var n=v(11),_=Object(n.a)({},(function(){var t=this,a=t.$createElement,v=t._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"程序、页面"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#程序、页面"}},[t._v("#")]),t._v(" 程序、页面")]),t._v(" "),v("p",[t._v("#小程序开发指南#\n#微信小程序团队#\n#宿主环境#\n#程序、页面#\n#微信小程序#")]),t._v(" "),v("p",[t._v("微信小程序 程序（程序构造器 "),v("code",[t._v("App()")]),t._v("、生命周期、打开场景、全局数据）、页面（文件构成、路径、页面构造器 "),v("code",[t._v("Page()")]),t._v("、生命周期、页面数据、页面的用户行为、页面跳转和路由）。")]),t._v(" "),v("h2",{attrs:{id:"程序"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#程序"}},[t._v("#")]),t._v(" 程序")]),t._v(" "),v("ul",[v("li",[t._v("小程序指产品层面的程序")]),t._v(" "),v("li",[t._v("程序指代码层面的程序实例（App）")])]),t._v(" "),v("h3",{attrs:{id:"程序构造器-app"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#程序构造器-app"}},[t._v("#")]),t._v(" 程序构造器 "),v("code",[t._v("App()")])]),t._v(" "),v("ul",[v("li",[t._v("宿主环境提供 "),v("code",[t._v("App()")]),t._v(" 构造器注册程序 App")]),t._v(" "),v("li",[t._v("写在项目根目录 "),v("code",[t._v("app.js")]),t._v(" 里")]),t._v(" "),v("li",[t._v("App 实例是单例对象")]),t._v(" "),v("li",[t._v("通过 "),v("code",[t._v("getApp()")]),t._v(" 获取程序实例")]),t._v(" "),v("li",[t._v("参数")])]),t._v(" "),v("div",{staticClass:"language-js line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLaunch")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShow")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onHide")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onError")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  globalData"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v("'I am global data'")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br")])]),v("table",[v("thead",[v("tr",[v("th",[t._v("参数属性")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("code",[t._v("onLaunch")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("当小程序初始化完成时，会触发 "),v("code",[t._v("onLaunch")]),t._v("（全局只触发一次）")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onShow")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("当小程序启动，或从后台进入前台显示，会触发 "),v("code",[t._v("onShow")])])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onHide")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("当小程序从前台进入后台，会触发 "),v("code",[t._v("onHide")])])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onError")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("当小程序发生脚本错误，或者 API 调用失败时，会触发 "),v("code",[t._v("onError")]),t._v(" 并带上错误信息")])]),t._v(" "),v("tr",[v("td",[t._v("其他字段")]),t._v(" "),v("td",[t._v("任意")]),t._v(" "),v("td",[t._v("可以添加任意的函数或数据到 "),v("code",[t._v("Object")]),t._v(" 参数中，在 App 实例回调用 "),v("code",[t._v("this")]),t._v(" 可以访问")])])])]),t._v(" "),v("h3",{attrs:{id:"生命周期"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),v("ul",[v("li",[t._v("初次进入小程序"),v("br"),t._v("\n微信客户端初始化宿主环境，从网络下载或从本地缓存获得小程序代码包，注入宿主环境"),v("br"),t._v("\n初始化完毕，调用 "),v("code",[t._v("onLaunch")]),t._v(" 方法")]),t._v(" "),v("li",[t._v("进入小程序后"),v("br"),t._v("\n点击右上角关闭或手机设备的 Home 键离开小程序，进入后台状态，未被直接销毁"),v("br"),t._v("\n调用 "),v("code",[t._v("onHide")]),t._v(" 方法")]),t._v(" "),v("li",[t._v("再次回到微信或再次打开小程序，进入前台状态"),v("br"),t._v("\n调用 "),v("code",[t._v("onShow")]),t._v(" 方法")])]),t._v(" "),v("h3",{attrs:{id:"打开场景"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#打开场景"}},[t._v("#")]),t._v(" 打开场景")]),t._v(" "),v("ul",[v("li",[t._v("群聊会话")]),t._v(" "),v("li",[t._v("小程序列表")]),t._v(" "),v("li",[t._v("微信扫一扫")]),t._v(" "),v("li",[t._v("另外一个小程序")]),t._v(" "),v("li",[t._v("参数")])]),t._v(" "),v("div",{staticClass:"language-js line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLaunch")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShow")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br")])]),v("table",[v("thead",[v("tr",[v("th",[t._v("字段")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("code",[t._v("path")])]),t._v(" "),v("td",[v("code",[t._v("String")])]),t._v(" "),v("td",[t._v("打开小程序的页面路径")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("query")])]),t._v(" "),v("td",[v("code",[t._v("Object")])]),t._v(" "),v("td",[t._v("打开小程序的页面参数 "),v("code",[t._v("query")])])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("scene")])]),t._v(" "),v("td",[v("code",[t._v("Number")])]),t._v(" "),v("td",[t._v("打开小程序的场景值")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("shareTicket")])]),t._v(" "),v("td",[v("code",[t._v("String")])]),t._v(" "),v("td")]),t._v(" "),v("tr",[v("td",[v("code",[t._v("referrerInfo")])]),t._v(" "),v("td",[v("code",[t._v("Object")])]),t._v(" "),v("td",[t._v("当场景为由从另一个小程序或公众号或 App 打开时，返回此字段")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("referrerInfo.appId")])]),t._v(" "),v("td",[v("code",[t._v("String")])]),t._v(" "),v("td",[t._v("来源小程序或公众号或 App 的 appId")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("referrerInfo.extraData")])]),t._v(" "),v("td",[v("code",[t._v("Object")])]),t._v(" "),v("td",[t._v("来源小程序传过来的数据，scene=1037或1038时支持")])])])]),t._v(" "),v("ul",[v("li",[t._v("返回 "),v("code",[t._v("referrerInfo.appId")]),t._v(" 的场景")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("场景值")]),t._v(" "),v("th",[t._v("场景")]),t._v(" "),v("th",[t._v("appId信息含义")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("1020")]),t._v(" "),v("td",[t._v("公众号 profile")]),t._v(" "),v("td",[t._v("页相关小程序列表 返回来源公众号 appId")])]),t._v(" "),v("tr",[v("td",[t._v("1035")]),t._v(" "),v("td",[t._v("公众号自定义菜单")]),t._v(" "),v("td",[t._v("返回来源公众号 appId")])]),t._v(" "),v("tr",[v("td",[t._v("1036")]),t._v(" "),v("td",[t._v("App 分享消息卡片")]),t._v(" "),v("td",[t._v("返回来源应用 appId")])]),t._v(" "),v("tr",[v("td",[t._v("1037")]),t._v(" "),v("td",[t._v("小程序打开小程序")]),t._v(" "),v("td",[t._v("返回来源小程序 appId")])]),t._v(" "),v("tr",[v("td",[t._v("1038")]),t._v(" "),v("td",[t._v("从另一个小程序返回")]),t._v(" "),v("td",[t._v("返回来源小程序 appId")])]),t._v(" "),v("tr",[v("td",[t._v("1043")]),t._v(" "),v("td",[t._v("公众号模板消息")]),t._v(" "),v("td",[t._v("返回来源公众号 appId")])])])]),t._v(" "),v("h3",{attrs:{id:"全局数据"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#全局数据"}},[t._v("#")]),t._v(" 全局数据")]),t._v(" "),v("ul",[v("li",[t._v("逻辑层 JS 脚本运行在同一个 JsCore 线程中，App 实例是单例的可以作为全局属性")]),t._v(" "),v("li",[v("code",[t._v("setTimeout")]),t._v("、"),v("code",[t._v("setInterval")]),t._v(" 定时器需要只在页面离开时清理")])]),t._v(" "),v("h2",{attrs:{id:"页面"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#页面"}},[t._v("#")]),t._v(" 页面")]),t._v(" "),v("h3",{attrs:{id:"文件构成、路径"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#文件构成、路径"}},[t._v("#")]),t._v(" 文件构成、路径")]),t._v(" "),v("ul",[v("li",[t._v("页面\n"),v("ul",[v("li",[t._v("界面\n"),v("ul",[v("li",[t._v("WXML 必须")]),t._v(" "),v("li",[t._v("WXSS 可选")])])]),t._v(" "),v("li",[t._v("配置\n"),v("ul",[v("li",[t._v("JSON 可选")])])]),t._v(" "),v("li",[t._v("逻辑\n"),v("ul",[v("li",[t._v("JS 必须")])])])])]),t._v(" "),v("li",[t._v("页面路径\n"),v("ul",[v("li",[t._v("在更目录 "),v("code",[t._v("app.json")]),t._v(" 的 "),v("code",[t._v("pages")]),t._v(" 声明，才能注册到宿主环境")]),t._v(" "),v("li",[v("code",[t._v("pages")]),t._v(" 第一个页面路径为小程序的首页")])])])]),t._v(" "),v("h3",{attrs:{id:"页面构造器-page"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#页面构造器-page"}},[t._v("#")]),t._v(" 页面构造器 "),v("code",[t._v("Page()")])]),t._v(" "),v("ul",[v("li",[t._v("宿主环境提供 "),v("code",[t._v("Page()")]),t._v(" 构造器注册小程序页面")]),t._v(" "),v("li",[t._v("写在页面脚本里面")]),t._v(" "),v("li",[t._v("参数")])]),t._v(" "),v("div",{staticClass:"language-js line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  data"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" text"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"This is page data."')]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onReady")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShow")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onHide")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onUnload")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onPullDownRefresh")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onReachBottom")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShareAppMessage")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onPageScroll")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br"),v("span",{staticClass:"line-number"},[t._v("8")]),v("br"),v("span",{staticClass:"line-number"},[t._v("9")]),v("br"),v("span",{staticClass:"line-number"},[t._v("10")]),v("br"),v("span",{staticClass:"line-number"},[t._v("11")]),v("br"),v("span",{staticClass:"line-number"},[t._v("12")]),v("br")])]),v("table",[v("thead",[v("tr",[v("th",[t._v("参数属性")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("描述")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("code",[t._v("data")])]),t._v(" "),v("td",[v("code",[t._v("Object")])]),t._v(" "),v("td",[t._v("页面的初始数据")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onLoad")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("生命周期函数，监听页面加载，触发时机早于 "),v("code",[t._v("onShow")]),t._v(" 和 "),v("code",[t._v("onReady")])])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onShow")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("生命周期函数，监听页面显示，触发事件早于 "),v("code",[t._v("onReady")])])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onReady")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("生命周期函数，监听页面初次渲染完成")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onHide")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("生命周期函数，监听页面隐藏")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onUnload")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("生命周期函数，监听页面卸载")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onPullDownRefresh")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("页面下拉动作事件的处理函数")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onReachBottom")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("页面上拉触底事件的处理函数")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onShareAppMessage")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("用户点击右上角转发")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("onPageScroll")])]),t._v(" "),v("td",[v("code",[t._v("Function")])]),t._v(" "),v("td",[t._v("页面滚动触发事件的处理函数")])]),t._v(" "),v("tr",[v("td",[t._v("其他")]),t._v(" "),v("td",[v("code",[t._v("Any")])]),t._v(" "),v("td",[t._v("可以添加任意的函数或数据，在 "),v("code",[t._v("Page")]),t._v("实例的其他函数中用 "),v("code",[t._v("this")]),t._v(" 可以访问")])])])]),t._v(" "),v("h3",{attrs:{id:"生命周期-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#生命周期-2"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),v("ul",[v("li",[t._v("页面初次加载时，调用 "),v("code",[t._v("onLoad")]),t._v(" 方法"),v("br"),t._v("\n在页面没有销毁之前只会触发1次"),v("br"),t._v("\n可以获取当前页面所调用的打开参数 "),v("code",[t._v("options")])]),t._v(" "),v("li",[t._v("页面显示后或从别的页面返回当前页面时，调用 "),v("code",[t._v("onShow")]),t._v(" 方法")]),t._v(" "),v("li",[t._v("页面初次渲染完成，调用 "),v("code",[t._v("onReady")]),t._v(" 方法"),v("br"),t._v("\n在页面没有销毁之前只会触发1次"),v("br"),t._v("\n可以进行逻辑层和视图层的交互了")]),t._v(" "),v("li",[v("code",[t._v("wx.navigateTo")]),t._v(" 切换其他页面、底部 tab 切换时页面不可见时，调用 "),v("code",[t._v("onHide")]),t._v(" 方法")]),t._v(" "),v("li",[v("code",[t._v("wx.redirectTo")]),t._v("、"),v("code",[t._v("wx.navigateBack")]),t._v(" 返回其他页面时，调用 "),v("code",[t._v("onUnload")]),t._v(" 方法"),v("br"),t._v("\n当前页面被销毁回收")]),t._v(" "),v("li",[v("code",[t._v("Page")]),t._v(" 生命周期由用户操作触发，不应该在其他代码主动调用")]),t._v(" "),v("li",[t._v("页面打开路径与网页 URL 类型，分 path、query")])]),t._v(" "),v("h3",{attrs:{id:"页面数据"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#页面数据"}},[t._v("#")]),t._v(" 页面数据")]),t._v(" "),v("ul",[v("li",[t._v("页面 "),v("code",[t._v("Page()")]),t._v(" 构造器 "),v("code",[t._v("data")]),t._v(" 字段")]),t._v(" "),v("li",[t._v("页面第一次渲染时从逻辑层传递到渲染层")]),t._v(" "),v("li",[v("code",[t._v("Page")]),t._v(" 的 "),v("code",[t._v("this.setData")]),t._v(" 把数据传递给渲染层"),v("br"),t._v("\n是异步的，第二个参数 "),v("code",[t._v("callback")]),t._v(" 在页面渲染完毕后触发")]),t._v(" "),v("li",[t._v("只需要设置需要改变的最小单位数据"),v("br"),t._v("\n如 "),v("code",[t._v("this.setData({ 'd[1].text': 'Goodbye' })")])]),t._v(" "),v("li",[t._v("注意\n"),v("ol",[v("li",[t._v("直接修改 "),v("code",[t._v("this.data")]),t._v(" 而不是 "),v("code",[t._v("this.setData()")]),t._v(" 无法改变页面的状态")]),t._v(" "),v("li",[t._v("每次设置数据不应超过 1024KB")]),t._v(" "),v("li",[t._v("不要设置成 "),v("code",[t._v("undefined")])])])])]),t._v(" "),v("h3",{attrs:{id:"页面的用户行为"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#页面的用户行为"}},[t._v("#")]),t._v(" 页面的用户行为")]),t._v(" "),v("ol",[v("li",[v("code",[t._v("onPullDownRefresh")]),t._v(" 下拉刷新"),v("br"),t._v("\n需要在 "),v("code",[t._v("app.json")]),t._v(" 的 "),v("code",[t._v("window")]),t._v(" 或页面配置 "),v("code",[t._v("page.json")]),t._v(" 设置 "),v("code",[t._v("enablePullDownRefresh")]),t._v(" 为 "),v("code",[t._v("true")]),v("br"),t._v(" "),v("code",[t._v("wx.stopPullDownRefresh")]),t._v(" 停止下刷新")]),t._v(" "),v("li",[v("code",[t._v("onReachBottom")]),t._v(" 上拉触底"),v("br"),t._v("\n在 "),v("code",[t._v("app.json")]),t._v(" 的 "),v("code",[t._v("window")]),t._v(" 或页面配置 "),v("code",[t._v("page.json")]),t._v(" 设置 "),v("code",[t._v("onReachBottomDistance")]),t._v(" 触发距离")]),t._v(" "),v("li",[v("code",[t._v("onPageScroll")]),t._v(" 页面滚动"),v("br"),t._v("\n参数为 "),v("code",[t._v("Object")]),t._v(" 包含 "),v("code",[t._v("scrollTop")]),t._v(" 垂直方向已滚动的距离（px）")]),t._v(" "),v("li",[v("code",[t._v("onShareAppMessage")]),t._v(" 用户转发"),v("br"),t._v("\n定义此函数，右上角菜单才会有转发按钮"),v("br"),t._v("\n需要返回 "),v("code",[t._v("Object")]),t._v(" 包含 "),v("code",[t._v("title")]),t._v("、"),v("code",[t._v("path")])])]),t._v(" "),v("h3",{attrs:{id:"页面跳转和路由"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#页面跳转和路由"}},[t._v("#")]),t._v(" 页面跳转和路由")]),t._v(" "),v("ul",[v("li",[t._v("页面栈\n"),v("ul",[v("li",[t._v("限制页面栈最大层级为 10")]),t._v(" "),v("li",[v("code",[t._v("wx.navigateTo()")]),t._v(" 推入页面")]),t._v(" "),v("li",[v("code",[t._v("wx.navigateBack()")]),t._v(" 推出页面")]),t._v(" "),v("li",[v("code",[t._v("wx.redirectTo()")]),t._v(" 替换当前页面")]),t._v(" "),v("li",[v("code",[t._v("wx.switchTab()")]),t._v(" 切换 Tabbar 页面"),v("br"),t._v("\n页面栈原来的页面被清空，编程当前的 Tabbar 页面"),v("br"),t._v("\n除了声明为 Tabbar 页面外都被销毁"),v("br"),t._v(" "),v("code",[t._v("wx.switchTab()")]),t._v(" 只能打开 Tabbar 页面，"),v("code",[t._v("wx.navigateTo()")]),t._v("、"),v("code",[t._v("wx.redirectTo()")]),t._v(" 只能打开非 Tabbar 页面")]),t._v(" "),v("li",[v("code",[t._v("wx.reLaunch()")]),t._v(" 重启小程序，打开参数页面，页面栈只有参数页面")])])])]),t._v(" "),v("h4",{attrs:{id:"页面路由触发方式及页面生命周期触发方式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#页面路由触发方式及页面生命周期触发方式"}},[t._v("#")]),t._v(" 页面路由触发方式及页面生命周期触发方式")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("路由方式")]),t._v(" "),v("th",[t._v("触发时机")]),t._v(" "),v("th",[t._v("路由前页面生命周期")]),t._v(" "),v("th",[t._v("路由后页面生命周期")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("初始化")]),t._v(" "),v("td",[t._v("小程序打开的第一个页面")]),t._v(" "),v("td"),t._v(" "),v("td",[v("code",[t._v("onLoad")]),t._v(", "),v("code",[t._v("onShow")])])]),t._v(" "),v("tr",[v("td",[t._v("打开新页面")]),t._v(" "),v("td",[t._v("API "),v("code",[t._v("wx.navigateTo")])]),t._v(" "),v("td",[v("code",[t._v("onHide")])]),t._v(" "),v("td",[v("code",[t._v("onLoad")]),t._v(", "),v("code",[t._v("onShow")])])]),t._v(" "),v("tr",[v("td",[t._v("页面重定向")]),t._v(" "),v("td",[t._v("API "),v("code",[t._v("wx.redirectTo")])]),t._v(" "),v("td",[v("code",[t._v("onUnload")])]),t._v(" "),v("td",[v("code",[t._v("onLoad")]),t._v(", "),v("code",[t._v("onShow")])])]),t._v(" "),v("tr",[v("td",[t._v("页面返回")]),t._v(" "),v("td",[t._v("API "),v("code",[t._v("wx.navigateBack")])]),t._v(" "),v("td",[v("code",[t._v("onUnload")])]),t._v(" "),v("td",[v("code",[t._v("onShow")])])]),t._v(" "),v("tr",[v("td",[t._v("Tab")]),t._v(" "),v("td",[t._v("切换 调用 API "),v("code",[t._v("wx.switchTab")])]),t._v(" "),v("td"),t._v(" "),v("td")]),t._v(" "),v("tr",[v("td",[t._v("重启动")]),t._v(" "),v("td",[t._v("调用 API "),v("code",[t._v("wx.reLaunch")])]),t._v(" "),v("td",[v("code",[t._v("onUnload")])]),t._v(" "),v("td",[v("code",[t._v("onLoad")]),t._v(", "),v("code",[t._v("onShow")])])])])]),t._v(" "),v("h4",{attrs:{id:"页面路由、生命周期触发实例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#页面路由、生命周期触发实例"}},[t._v("#")]),t._v(" 页面路由、生命周期触发实例")]),t._v(" "),v("ul",[v("li",[t._v("A、B 页面为 Tabbar 页面，C 是从 A 页面打开的页面，D 页面是从 C 页面打开的页面")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("当前页面")]),t._v(" "),v("th",[t._v("路由后页面")]),t._v(" "),v("th",[t._v("触发的生命周期（按顺序）")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("A")]),t._v(" "),v("td",[t._v("A")]),t._v(" "),v("td",[t._v("无")])]),t._v(" "),v("tr",[v("td",[t._v("A")]),t._v(" "),v("td",[t._v("B")]),t._v(" "),v("td",[v("code",[t._v("A.onHide()")]),t._v(", "),v("code",[t._v("B.onLoad()")]),t._v(", "),v("code",[t._v("B.onShow()")])])]),t._v(" "),v("tr",[v("td",[t._v("A")]),t._v(" "),v("td",[t._v("B(再次打开)")]),t._v(" "),v("td",[v("code",[t._v("A.onHide()")]),t._v(", "),v("code",[t._v("B.onShow()")])])]),t._v(" "),v("tr",[v("td",[t._v("C")]),t._v(" "),v("td",[t._v("A")]),t._v(" "),v("td",[v("code",[t._v("C.onUnload()")]),t._v(", "),v("code",[t._v("A.onShow()")])])]),t._v(" "),v("tr",[v("td",[t._v("C")]),t._v(" "),v("td",[t._v("B")]),t._v(" "),v("td",[v("code",[t._v("C.onUnload()")]),t._v(", "),v("code",[t._v("B.onLoad()")]),t._v(", "),v("code",[t._v("B.onShow()")])])]),t._v(" "),v("tr",[v("td",[t._v("D")]),t._v(" "),v("td",[t._v("B")]),t._v(" "),v("td",[v("code",[t._v("D.onUnload()")]),t._v(", "),v("code",[t._v("C.onUnload()")]),t._v(", "),v("code",[t._v("B.onLoad()")]),t._v(", "),v("code",[t._v("B.onShow()")])])]),t._v(" "),v("tr",[v("td",[t._v("D(从转发进入)")]),t._v(" "),v("td",[t._v("A")]),t._v(" "),v("td",[v("code",[t._v("D.onUnload()")]),t._v(", "),v("code",[t._v("A.onLoad()")]),t._v(", "),v("code",[t._v("A.onShow()")])])]),t._v(" "),v("tr",[v("td",[t._v("D(从转发进入)")]),t._v(" "),v("td",[t._v("B")]),t._v(" "),v("td",[v("code",[t._v("D.onUnload()")]),t._v(", "),v("code",[t._v("B.onLoad()")]),t._v(", "),v("code",[t._v("B.onShow()")])])])])])])}),[],!1,null,null,null);a.default=_.exports}}]);